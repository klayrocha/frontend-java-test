<div class="container">
    <div>
        <h1>List of Customers </h1> 
        <p>Initially retrieves the whole list, with the filter options 
            by Country and state, developed by Francis Klay Rocha</p> 
    </div>
</div>
<div class="container" style="background-color: white">
    <div class="form-group">
        <label for="exampleInputEmail1">Country</label>
        <select class="form-control" [(ngModel)]="customerFilter.country.code" 
            name="countryCode"
            id="inputCountry">
            <option *ngFor="let country of listCountries" [value]="country.code">
                {{ country.name }}
            </option>
        </select>
    </div>

    <div class="form-group">
        <label for="exampleInputPassword1">State</label>
        <select class="form-control" [(ngModel)]="customerFilter.state" 
            name="state"
            id="inputState">
            <option>Invalid</option>
            <option>Valid</option>
        </select>
    </div>
    <div class="btn-group mr-2" role="group">
        <button class="btn btn-primary" (click)="filterFromPage()">Filter</button>
    </div>
    <div class="btn-group mr-2" role="group">
        <button class="btn btn-primary" (click)="cleanFilter()">Clean Filter</button>
    </div>
    <div class="btn-group mr-3" role="group">
            <button class="btn btn-primary" (click)="showChart()">Show Chart</button>
    </div>
    <hr />
    <div id="list" class="row">
        <div class="table-responsive col-md-12" *ngIf="showTable">
            <table class="table table-striped" cellspacing="0" cellpadding="0">
                <thead>
                    <tr>
                        <th>Country Code</th>
                        <th>Country Name</th>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>State</th>
                </thead>
                <tbody>
                    <tr *ngFor="let customer of listCustomer">
                        <td>{{customer.country.code}}</td>
                        <td>{{customer.country.name}}</td>
                        <td>{{customer.name}}</td>
                        <td>{{customer.phone}}</td>
                        <td>{{customer.state}}</td>
                    </tr>
                </tbody>
            </table>
    
        </div>
        <fusioncharts *ngIf="!showTable"
            [chartConfig]=chartConfig
            [dataSource]=dataSource >
        </fusioncharts>
    </div>

    <div id="bottom" class="row" *ngIf="showTable">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous"
                        (click)="setPreviousPage($event)">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item" *ngFor="let p of pages; let i=index">
                        <a class="page-link" href="#" (click)="setPage(i,$event)">{{i+1}}</a>
                </li>
                
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next"
                        (click)="setNextPage($event)">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div> 
</div>